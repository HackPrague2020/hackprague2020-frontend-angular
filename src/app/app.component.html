<div class="app-container">
    <mat-toolbar color="primary" class="app-toolbar mat-elevation-z5">
        <h3>Lemonade</h3>
        <button mat-button>LINK</button>
    </mat-toolbar>

  <app-search [(ticker)]="selectedTicker"></app-search>

    <div class="app-content">
        <div style="display: flex">
            <mat-card class="card" style="width: 70%;">
                <mat-card-header>
                    <mat-card-title>Tesla Inc.</mat-card-title>
                    <mat-card-subtitle>{{ selectedTicker }}: $305.80</mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <app-stock-price-chart [ticker]="selectedTicker"></app-stock-price-chart>
                    <mat-slider
                        thumbLabel
                        [value]="23 - quarterIndex"
                        (input)="quarterIndex = 23 - $event.value"
                        tickInterval="1"
                        [displayWith]="formatQuarter"
                        min="1" max="23"
                        style="width: 100%"></mat-slider>
                </mat-card-content>
            </mat-card>

            <mat-card class="card" style="width: 30%;">
                <mat-card-header>
                    <mat-card-title>Favorites</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <mat-selection-list [multiple]="false">
                        <mat-list-option *ngFor="let ticker of tickers" (click)="selectedTicker=ticker">
                            {{ ticker }}
                        </mat-list-option>
                    </mat-selection-list>
                </mat-card-content>
            </mat-card>
        </div>
        <mat-card class="card main-card">
            <mat-card-header>
                <div style="display:flex;justify-content:center;width:100%;flex-direction:column">
                    <div style="display:flex;justify-content:center;width:100%;">
                        <mat-button-toggle-group appearance="legacy" [value]="mode" (change)="mode = $event.value" name="mode">
                            <mat-button-toggle value="abs">Absolute Price Values</mat-button-toggle>
                            <mat-button-toggle value="rel">Price Values per $100 Owned</mat-button-toggle>
                        </mat-button-toggle-group>
                    </div>
                    <div style="display:flex;justify-content:center;width:100%;">
                        <h1 style="padding:50px">What if {{selectedTicker}} was a lemonade stand{{mode === 'rel' ? ' and you invested 100$' : ''}}? </h1>
                    </div>
                </div>
            </mat-card-header>
            <mat-card-content>
                <app-income-statement
                  [ticker]="selectedTicker"
                  [quarterIndex]="quarterIndex"
                  [absoluteValues]="mode == 'abs'"
                  (lengthEvent)="logLength($event)">
                </app-income-statement>
            </mat-card-content>
        </mat-card>
    </div>


    <app-performance-radar-chart></app-performance-radar-chart>

    <footer class="app-footer">
        <span class="mat-caption">Â© BitConeeeect 2020</span>
    </footer>

</div>
